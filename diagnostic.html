<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Диагностика</title>
  <style>
    body {
      background-color: black;
      color: yellow;
      font-family: sans-serif;
    }
    .block {
      border: 2px solid #00B7EB;
      margin: 10px;
    }
    .title {
      background-color: #00B7EB;
      text-align: center;
      padding: 5px;
      font-weight: bold;
    }
    .content {
      display: flex;
      flex-wrap: wrap;
      padding: 10px;
    }
    .item {
      background-color: #333;
      border: 1px solid grey;
      padding: 10px;
      margin: 5px;
      min-width: 150px;
      text-align: center;
    }
    .status {
      color: violet;
      font-weight: bold;
    }
    .button-on {
      background-color: green;
      color: black;
      padding: 5px;
      margin: 2px;
    }
    .button-off {
      background-color: red;
      color: black;
      padding: 5px;
      margin: 2px;
    }
    .disabled {
      background-color: gray !important;
      color: white !important;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="block">
    <div class="title">Освещение 1–6</div>
    <div class="content" id="lights">
      <!-- Генерируется скриптом -->
    </div>
  </div>

  <script>
    const lights = ["N1", "N2", "N3", "N4", "N5", "N6"];

    lights.forEach((name, index) => {
      const i = index + 1;
      const div = document.createElement('div');
      div.className = 'item';
      div.innerHTML = `
        ${name}<br>
        <span class="status" id="state${i}">Отключено</span><br>
        <button id="off${i}" class="button-off disabled" onclick="toggle(${i}, false)">Отключить</button>
        <button id="on${i}" class="button-on" onclick="toggle(${i}, true)">Включить</button>
      `;
      document.getElementById('lights').appendChild(div);
    });

    function toggle(num, isOn) {
      document.getElementById(`state${num}`).textContent = isOn ? 'Включено' : 'Отключено';
      document.getElementById(`state${num}`).style.color = isOn ? 'lightgreen' : 'red';

      document.getElementById(`on${num}`).classList.toggle('disabled', isOn);
      document.getElementById(`off${num}`).classList.toggle('disabled', !isOn);
    }
  </script>

  <!-- Остальной код (DI ШУС, ПЛК, ШЭП, Ошибки) можно оставить без изменений -->

</body>
</html>
